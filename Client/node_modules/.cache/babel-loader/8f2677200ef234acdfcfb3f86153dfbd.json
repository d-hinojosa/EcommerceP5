{"ast":null,"code":"'use strict';\n\nvar uuid = require('uuid');\n\nmodule.exports = function (options) {\n  options = options || {};\n  options.uuidVersion = options.uuidVersion || 'v4';\n  options.setHeader = options.setHeader === undefined || !!options.setHeader;\n  options.headerName = options.headerName || 'X-Request-Id';\n  options.attributeName = options.attributeName || 'id';\n  return function (req, res, next) {\n    req[options.attributeName] = req.headers[options.headerName.toLowerCase()] || uuid[options.uuidVersion](options, options.buffer, options.offset);\n\n    if (options.setHeader) {\n      res.setHeader(options.headerName, req[options.attributeName]);\n    }\n\n    next();\n  };\n};","map":null,"metadata":{},"sourceType":"script"}